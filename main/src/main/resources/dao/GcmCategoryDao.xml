<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mall.dao.GcmCategoryDao">

    <sql id="onDuplicateKeyUpdate">
        industry_code_=values(industry_code_),
        code_=values(code_),
        name_=values(name_),
        diteng_class_code_=values(diteng_class_code_),
        app_user_=values(app_user_),
        app_date_=values(app_date_),
        update_user_=values(update_user_),
        update_date_=values(update_date_)
    </sql>

    <!-- 商品分类同步 -->
    <insert id="sync">
        insert into gcm_category (industry_code_, code_, name_, diteng_class_code_, app_user_, app_date_,
        update_user_, update_date_
        ) values
        <foreach collection="list" item="item" separator="," index="index">
            (
            #{item.industryCode,jdbcType=VARCHAR},
            #{item.code,jdbcType=VARCHAR},
            #{item.name,jdbcType=VARCHAR},
            #{item.ditengClassCode,jdbcType=VARCHAR},
            #{item.appUser,jdbcType=VARCHAR},
            #{item.appDate,jdbcType=TIMESTAMP},
            #{item.updateUser,jdbcType=VARCHAR},
            #{item.updateDate,jdbcType=TIMESTAMP}
            )
        </foreach>
        on duplicate key update
        <include refid="onDuplicateKeyUpdate"/>
    </insert>
</mapper>